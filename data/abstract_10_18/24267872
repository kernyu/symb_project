The fitness cost of antibiotic resistance in the absence of treatment raises the possibility that prudent use of drugs may slow or reverse the rise of resistance. Unfortunately, compensatory mutations that lower this cost may lead to entrenched resistance. Here, we develop a mathematical model of resistance evolution and compensatory mutation to determine whether reversion to sensitivity can occur, and how disease control might be facilitated by a second-line therapy. When only a single antibiotic is available, sensitive bacteria reach fixation only under treatment rates so low that hardly any cases are treated. We model a scenario in which drug sensitivity can be accurately tested so that a second-line therapy is administered to resistant cases. Before the rise of resistance to the second drug, disease eradication is possible if resistance testing and second-line treatment are conducted at a high enough rate. However, if double drug resistance arises, the possibility of disease eradication is greatly reduced and compensated resistance prevails in most of the parameter space. The boundary separating eradication from fixation of compensated resistance is strongly influenced by the underlying basic reproductive number of the pathogen and drug efficacy in sensitive cases, but depends less on the resistance cost and compensation. When double resistance is possible, the boundary is affected by the relative strengths of resistance against the two drugs in the double-resistant-compensated strain.