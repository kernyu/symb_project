BACKGROUND: Protease-inhibitor-based treatment is recommended as first-line for infants infected with HIV who have been previously exposed to nevirapine prophylaxis. However, long-term use poses adherence challenges, is associated with metabolic toxic effects, restricts second-line options, and is costly. We present the long-term outcomes of switching nevirapine-exposed children to nevirapine-based treatment after effective suppression of virus replication with a protease-inhibitor-based regimen. METHODS: We did a randomised trial to compare long-term viral suppression with nevirapine-based versus protease-inhibitor-based (ritonavir-boosted lopinavir) treatment in children who had achieved suppression with protease-inhibitor-based treatment. Randomisation (1:1) was by cohort blocks of variable size between eight and 12. Eligible children were younger than 24 months who were previously exposed to nevirapine for prevention of mother-to-child transmission, and achieved virological suppression of less than 400 copies per mL when treated with the regimen based on ritonavir-boosted lopinavir in Johannesburg, South Africa. We gave all drugs as liquids and adjusted doses at each visit in accordance with growth. We continued follow-up for a minimum of 90 weeks and maximum of 232 weeks after randomisation. We quantified HIV RNA every 3 months. Our primary endpoint was any viraemia greater than 50 copies per mL. Our analysis was by modified intention to treat. This study is registered with ClinicalTrials.gov, number NCT00117728. FINDINGS: We followed up the children for a median of 156 weeks and there were three deaths in each group. Children in the switch group (Kaplan-Meier probability 0.595) were less likely to experience non-suppression greater than 50 copies per mL than in the control group (0.687; p=0.01) and had better CD4 and growth responses initially after switching (52 children in the switch group vs 66 control group met this endpoint). By 156 weeks after randomisation, more children had virological failure--which we defined as confirmed viraemia of more than 1000 copies per mL--in the switch group (22 children) than in the control group (ten children; p=0.009). We detected all 22 failures in the switch group by 52 weeks compared with five in the control group. Virological failure was related to non-adherence and pretreatment drug resistance. In children without pretreatment drug resistance, we did not identify a significant difference in virological failure between the switch (Kaplan-Meier probability 0.140) and control (0.095) groups (p=0.34; seven failures in the switch group vs five in the control group). Children in the switch group were significantly more likely to develop grade 1-3 alanine aminotransferase abnormalities over the duration of follow-up. INTERPRETATION: Viral-load testing through 52 weeks can identify all children likely to fail this protease-inhibitor-switch strategy. Switching children once suppressed to a nevirapine-based regimen might be a valuable treatment option if adequate viral-load monitoring can be done. FUNDING: National Institutes of Child Health and Human Development and Secure the Future Foundation.