BACKGROUND: Inappropriate antibiotic prescribing contributes to the generation of drug resistance worldwide, and is particularly common in China. We assessed the effectiveness of an antimicrobial stewardship programme aiming to reduce inappropriate antibiotic prescribing in paediatric outpatients by targeting providers and caregivers in primary care hospitals in rural China. METHODS: We did a pragmatic, cluster-randomised controlled trial with a 6-month intervention period. Clusters were primary care township hospitals in two counties of Guangxi province in China, which were randomly allocated to the intervention group or the control group (in a 1:1 ratio in Rong county and in a 5:6 ratio in Liujiang county). Randomisation was stratified by county. Eligible participants were children aged 2-14 years who attended a township hospital as an outpatient and were given a prescription following a primary diagnosis of an upper respiratory tract infection. The intervention included clinician guidelines and training on appropriate prescribing, monthly prescribing peer-review meetings, and brief caregiver education. In hospitals allocated to the control group, usual care was provided, with antibiotics prescribed at the individual clinician's discretion. Patients were masked to their allocated treatment group but doctors were not. The primary outcome was the antibiotic prescription rate in children attending the hospitals, defined as the cluster-level proportion of prescriptions for upper respiratory tract infections in 2-14-year-old outpatients, issued during the final 3 months of the 6-month intervention period (endline), that included one or more antibiotics. The outcome was based on prescription records and analysed by modified intention-to-treat. This study is registered with the ISRCTN registry, number ISRCTN14340536. FINDINGS: We recruited all 25 eligible township hospitals in the two counties (14 hospitals in Rong county and 11 in Liujiang county), and randomly allocated 12 to the intervention group and 13 to the control group. We implemented the intervention in three internal pilot clusters between July 1, 2015, and Dec 31, 2015, and in the remaining nine intervention clusters between Oct 1, 2016 and March 31, 2016. Between baseline (the 3 months before implementation of the intervention) and endline (the final 3 months of the 6-month intervention period) the antibiotic prescription rate at the individual level decreased from 82% (1936/2349) to 40% (943/2351) in the intervention group, and from 75% (1922/2548) to 70% (1782/2552) in the control group. After adjusting for the baseline antibiotic prescription rate, stratum (county), and potentially confounding patient and prescribing doctor covariates, this endline difference between the groups represented an intervention effect (absolute risk reduction in antibiotic prescribing) of -29% (95% CI -42 to -16; p=0.0002). INTERPRETATION: In China's primary care setting, pragmatic interventions on antimicrobial stewardship targeting providers and caregivers substantially reduced prescribing of antibiotics for childhood upper respiratory tract infections. FUNDING: Department of International Development (UKAID) through Communicable Diseases Health Service Delivery.