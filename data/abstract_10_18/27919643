BACKGROUND: Multidrug-resistance is a substantial threat to global elimination of tuberculosis. Understanding transmission patterns is crucial for control of the disease. We used a genomic and epidemiological approach to assess recent transmission of multidrug-resistant (MDR) tuberculosis and identify potential risk factors for transmission. METHODS: We did a population-based, retrospective study of patients who tested positive for tuberculosis between Jan 1, 2009, and Dec 31, 2012, in Shanghai, China. We did variable-number-of-tandem-repeat genotyping and whole-genome sequencing of isolates. We measured strain diversity within and between genomically clustered isolates. Genomic and epidemiological data were combined to construct transmission networks. FINDINGS: 367 (5%) of 7982 patients with tuberculosis had MDR tuberculosis and 324 (88%) of these had isolates available for genomic analysis. 103 (32%) of the 324 MDR strains were in 38 genomic clusters that differed by 12 or fewer single nucleotide polymorphisms (SNPs), indicating recent transmission of MDR strains. Patients who had delayed diagnosis or were older than 45 years had high risk of recent transmission. 235 (73%) patients with MDR tuberculosis probably had transmission of MDR strains. Transmission network analysis showed that 33 (87%) of the 38 clusters accumulated additional drug-resistance mutations through emergence or fixation of mutations during transmission. 68 (66%) of 103 clustered MDR strains had compensatory mutations of rifampicin resistance. INTERPRETATION: Recent transmission of MDR tuberculosis strains, with increasing drug-resistance, drives the MDR tuberculosis epidemic in Shanghai, China. Whole-genome sequencing can measure of the heterogeneity of drug-resistant mutations within and between hosts and help to determine the transmission patterns of MDR tuberculosis. FUNDING: National Science and Technology Major Project, National Natural Science Foundation of China, and US National Insitutes of Health.