Antiflu drugs such as amantadine (AMT) were reported to be insensitive to influenza A virus gradually after their marketing. Mutation experiments indicate that the trans-membrane domain of M2 protein plays an essential role in AMT resistance, especially the S31N mutation. To investigate the details of structure and mechanism, molecular dynamics (MD) simulations and quantum mechanics/molecular mechanics (QM/MM) calculations have been carried out on both the wild-type protein and its S31N mutant. Our MD simulations reveal AMT can occupy different binding positions in the pore of M2 channel, and the binding modes have also been verified and analyzed by QM/MM calculations. More importantly, we find the formation of a water wire modulated by the binding position of AMT to be essential for the function of M2 protein, and, the block of water wire can inhibit channel function in the WT system. Failure of channel blocking would cause AMT drug resistance in the S31N mutant. These results support one of the conflicting views about M2-drug binding sites: AMT binds to the pore of M2 channel. Our findings help clarify the resistant mechanism of AMT to M2 protein and should facilitate the discovery of new drugs for treating influenza A virus.