BACKGROUND: In resource-limited settings, genotype testing at virologic failure on first-line antiretroviral therapy (ART) may identify patients with wild-type (WT) virus. After adherence counseling, these patients may safely and effectively continue first-line ART, thereby delaying more expensive second-line ART. METHODS: We used the Cost-Effectiveness of Preventing AIDS Complications International model of human immunodeficiency virus (HIV) disease to simulate a South African cohort of HIV-infected adults at first-line ART failure. Two strategies were examined: no genotype vs genotype, assuming availability of protease inhibitor-based second-line ART. Model inputs at first-line ART failure were mean age 38 years, mean CD4 173/microL, and WT virus prevalence 20%; genotype cost was $300 per test and delay to results, 3 months. Outcomes included life expectancy, per-person costs (2010 US dollars), and incremental cost-effectiveness ratios (dollars per years of life saved [YLS]). RESULTS: No genotype had a projected life expectancy of 106.1 months, which with genotype increased to 108.3 months. Per-person discounted lifetime costs were $16 360 and $16 540, respectively. Compared to no genotype, genotype was very cost-effective, by international guidance, at $900/YLS. The cost-effectiveness of genotype was sensitive to prevalence of WT virus (very cost-effective when prevalence >/= 12%), CD4 at first-line ART failure, and ART efficacy. Genotype-associated delays in care >/= 5 months decreased survival and made no genotype the preferred strategy. When the test cost was <$100, genotype became cost-saving. CONCLUSIONS: Genotype resistance testing at first-line ART failure is very cost-effective in South Africa. The cost-effectiveness of this strategy will depend on prevalence of WT virus and timely response to genotype results.