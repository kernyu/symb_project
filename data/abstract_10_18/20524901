An increasing incidence of carbapenem-resistant Klebsiella pneumoniae (CRKP) infections has been reported worldwide. The aim of this study was to investigate the mechanism underlying carbapenem resistance and its relationship to antibiotic exposure. Sixteen isolates with various carbapenem susceptibilities recovered from five patients between 2003 and 2006 were subjected to molecular study. The medical records of the patients were also reviewed. All of the patients were admitted for complicated respiratory illness, had a prolonged hospital stay, and were exposed to antibiotics. Carbapenems were prescribed before the emergence of the CRKP. Various combinations of extended-spectrum cephalosporinase genes belonging to the SHV, CTX-M, and AmpC groups were found among the isolates. Other carbapenem resistance-associated genes, such as bla(IMP), bla(VIM), bla(OXA), and bla(KPC), were not found. OmpK35 was not expressed in any of the isolates, and additional loss of OmpK36 was observed in all CRKP isolates. Two insertion elements, ISPa13 or IS5, were found inserted into OmpK36 in the isolates derived from three patients. These IS elements were also identified in their parental carbapenem-susceptible isolates, suggesting that an internal transposition into OmpK36 resulted in resistance. OmpK36 loss represents the major mechanism for the development of CRKP in extended-spectrum cephalosporinase-producing isolates. A prolonged hospital stay and recent carbapenem exposure may predispose patients to CRKP, impacting the clinical outcome.