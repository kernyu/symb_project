This study describes the molecular characteristics and risk factors associated with carbapenem-resistant Klebsiella pneumoniae strains. Risk factors associated with KPC-producing K. pneumoniae strains were investigated in this case-control study from May 2011 to May 2013. Bacterial identification was performed by matrix-assisted laser desorption/ionization-time-of-flight mass spectrometry (MALDI-TOF MS). Antimicrobial susceptibility was determined by broth microdilution. Carbapenemase production was assessed by both modified Hodge test (MHT) and ertapenem hydrolysis using MALDI-TOF MS. The presence of beta-lactamase-encoding genes was evaluated by PCR and DNA sequencing. Alterations in genes encoding K. pneumoniae outer membrane proteins were analysed by PCR and DNA sequencing as well as SDS-PAGE. Genetic relatedness among strains was determined by pulsed-field gel electrophoresis. This study included 94 patients. Longer hospitalisation, mechanical ventilation, catheters, and previous surgery were associated with KPC-producing K. pneumoniae. Sixty-eight strains showed resistance to carbapenems. Carbapenemase production was detected by MHT in 67 K. pneumoniae strains and by MALDI-TOF MS in 57. The presence of the blaKPC-2 gene was identified in 57 strains. The blaKPC-2 gene was not found in 11 carbapenem-resistant K. pneumoniae; instead, the blaCTX-M-1-like, blaCTX-M-2-like, blaCTX-M-8 like, blaCTX-M-14-like and blaSHV- like genes associated with OmpK35 and OmpK36 alterations were observed. Thirty-three KPC-producing K. pneumoniae strains were clonally related, and patients infected with these strains had a higher mortality rate (78.78 %). Our results show that KPC-producing K. pneumoniae was associated with several healthcare-related risk factors, including recent surgery.