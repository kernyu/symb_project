Stress response genes and their regulators form networks that underlie drug resistance. These networks often have an inherent tradeoff: their expression is costly in the absence of stress, but beneficial in stress. They can quickly emerge in the genomes of infectious microbes and cancer cells, protecting them from treatment. Yet, the evolution of stress resistance networks is not well understood. Here, we use a two-component synthetic gene circuit integrated into the budding yeast genome to model experimentally the adaptation of a stress response module and its host genome in three different scenarios. In agreement with computational predictions, we find that: (i) intra-module mutations target and eliminate the module if it confers only cost without any benefit to the cell; (ii) intra- and extra-module mutations jointly activate the module if it is potentially beneficial and confers no cost; and (iii) a few specific mutations repeatedly fine-tune the module's noisy response if it has excessive costs and/or insufficient benefits. Overall, these findings reveal how the timing and mechanisms of stress response network evolution depend on the environment.