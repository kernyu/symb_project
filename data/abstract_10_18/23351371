Understanding the source of drug resistance emerging within a treated patient is an important problem, from both clinical and basic evolutionary perspectives. Resistant mutants may arise de novo either before or after treatment is initiated, with different implications for prevention. Here we investigate this problem in the context of chronic viral diseases, such as human immunodeficiency virus (HIV) and hepatitis B and C viruses (HBV and HCV). We present a unified model of viral population dynamics within a host, which can capture a variety of viral life cycles. This allows us to identify which results generalize across various viral diseases, and which are sensitive to the particular virus's life cycle. Accurate analytical approximations are derived that allow for a solid understanding of the parameter dependencies in the system. We find that the mutation-selection balance attained prior to treatment depends on the step at which mutations occur and the viral trait that incurs the cost of resistance. Life cycle effects and key parameters, including mutation rate, infected cell death rate, cost of resistance, and drug efficacy, play a role in determining when mutations arising during treatment are important relative to those pre-existing.