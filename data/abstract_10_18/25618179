Co-trimoxazole is an inexpensive, broad-spectrum antimicrobial drug that is widely used in developing countries. Before antiretroviral therapy (ART) scale-up, co-trimoxazole prophylaxis reduced morbidity and mortality in adults and children with HIV by preventing bacterial infections, diarrhoea, malaria, and Pneumocystis jirovecii pneumonia, despite high levels of microbial resistance. Co-trimoxazole prophylaxis reduces early mortality by 58% (95% CI 39-71) in adults starting ART. Co-trimoxazole provides ongoing protection against malaria and non-malaria infections after immune reconstitution in ART-treated individuals in sub-Saharan Africa, leading to a change in WHO guidelines, which now recommend long-term co-trimoxazole prophylaxis for adults and children in settings with a high prevalence of malaria or severe bacterial infections. Co-trimoxazole prophylaxis is recommended for HIV-exposed infants from age 4-6 weeks; however, the risks and benefits of co-trimoxazole during infancy are unclear. Co-trimoxazole prophylaxis reduces anaemia and improves growth in children with HIV, possibly by reducing inflammation, either through direct immunomodulatory activity or through effects on the intestinal microbiota leading to reduced microbial translocation. Ongoing trials are now assessing the ability of adjunctive co-trimoxazole to reduce mortality in children after severe anaemia or severe acute malnutrition. In this Review, we discuss the mechanisms of action, benefits and risks, and clinical trials of co-trimoxazole in developing countries.