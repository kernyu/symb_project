The rapid emergence of bacterial strains resistant to multiple antibiotics is posing a growing public health risk. The mechanisms underlying the rapid evolution of drug resistance are, however, poorly understood. The heterogeneity of the environments in which bacteria encounter antibiotic drugs could play an important role. E.g., in the highly compartmentalized human body, drug levels can vary substantially between different organs and tissues. It has been proposed that this could facilitate the selection of resistant mutants, and recent experiments support this. To study the role of spatial heterogeneity in the evolution of drug resistance, we present a quantitative model describing an environment subdivided into relatively isolated compartments with various antibiotic concentrations, in which bacteria evolve under the stochastic processes of proliferation, migration, mutation and death. Analytical and numerical results demonstrate that concentration gradients can foster a mode of adaptation that is impossible in uniform environments. It allows resistant mutants to evade competition and circumvent the slow process of fixation by invading compartments with higher drug concentrations, where less resistant strains cannot subsist. The speed of this process increases sharply with the sensitivity of the growth rate to the antibiotic concentration, which we argue to be generic. Comparable adaptation rates in uniform environments would require a high selection coefficient (s > 0.1) for each forward mutation. Similar processes can occur if the heterogeneity is more complex than just a linear gradient. The model may also be applicable to other adaptive processes involving environmental heterogeneity and range expansion.