Pathogenic microorganisms use Darwinian processes to circumvent attempts at their control through chemotherapy. In the case of HIV-1 infection, in which drug resistance is a continuing problem, we show that in one-compartment systems, there is a relatively narrow window of drug concentrations that allows evolution of resistant variants. When the system is enlarged to two spatially distinct compartments held at different drug concentrations with transport of virus between them, the range of average drug concentrations that allow evolution of resistance is significantly increased. For high average drug concentrations, resistance is very unlikely to arise without spatial heterogeneity. We argue that a quantitative understanding of the role played by heterogeneity in drug levels and pathogen transport is crucial for attempts to control re-emergent infectious disease.