OBJECTIVE: To look for evidence of a relation between antibiotic resistance and prescribing by general practitioners by analysis of prescribing at both practice and individual patient level. DESIGN: Repeated cross-sectional study in 1995 and 1996. SETTING: 28 general practices in the Ninewells Hospital laboratory catchment area, Tayside, Scotland. SUBJECTS REVIEWED: 8833 patients registered with the 28 practices who submitted urine samples for analysis. MAIN OUTCOME MEASURES: Resistance to trimethoprim in bacteria isolated from urine samples at practice and individual level simultaneously in a multilevel model. RESULTS: Practices showed considerable variation in both the prevalence of trimethoprim resistance (26-50% of bacteria isolated) and trimethoprim prescribing (67-357 prescriptions per 100 practice patients). Although variation in prescribing showed no association with resistance at the practice level after adjustment for other factors (P = 0.101), in the multilevel model resistance to trimethoprim was significantly associated with age, sex, and individual-level exposure to trimethoprim (P < 0.001) or to other antibiotics (P = 0.002). The association with trimethoprim resistance was strongest for people recently exposed to trimethoprim, and there was no association for people with trimethoprim exposure more than six months before the date of the urine sample. DISCUSSION: Analysis of practice level data obscured important associations between antibiotic prescribing and resistance. The results support efforts to reduce unnecessary prescribing of antibiotics in the community and show the added value of individual patient data for research on the outcomes of prescribing.