OBJECTIVE: Helicobacter pylori treatment failure is thought to be due mainly to polymorphic cytochrome P450 2C19 (CPY2C19) genetic polymorphism, associated with proton pump inhibitor metabolism, and antimicrobial susceptibility. This report has ascertained which was more important, CPY2C19 polymorphism or antimicrobial susceptibility, when using 1-week lansoprazole-based or rabeprazole-based triple therapy in Japan. DESIGN: An open, randomized, parallel group study. SETTING: One hundred and forty-five subjects with H. pylori-positive gastritis or peptic ulcers were randomly assigned to receive 30 mg lansoprazole twice daily (LAC group), 10 mg rabeprazole twice daily (RAC20 group), or 20 mg rabeprazole twice daily (RAC40 group), with 1000 mg amoxicillin twice daily and 400 mg clarithromycin twice daily for 1 week. Antimicrobial resistance testing was performed by E-test. More than 4 weeks after completion of treatment, H. pylori status was assessed by 13C-urea breath test, histology, and culture. RESULTS: Cure rates expressed as intention-to-treat and per-protocol analyses, respectively, were 79.6 and 83.0% with LAC, 85.4 and 89.1% with RAC20, and 83.3 and 88.9% with RAC40. In the case of clarithromycin-sensitive strains, the cure rates were more than 97%, regardless of CPY2C19 polymorphism. However, treatment succeeded in only one out of 16 clarithromycin-resistant strains. CONCLUSIONS: The key to successful eradication of H. pylori, using lansoprazole or rabeprazole with clarithromycin and amoxicillin, is clarithromycin susceptibility, not CPY2C19 polymorphism.