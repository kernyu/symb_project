HIV drug therapy often fails because of the appearance of multidrug-resistant virus. There are two possible scenarios for the outgrowth of multidrug-resistant virus in response to therapy. Resistant virus may preexist at low frequencies in drug-naive patients and is rapidly selected in the presence of drugs. Alternatively, resistant virus is absent at the start of therapy but is generated by residual viral replication during therapy. Currently available experimental methods are generally too insensitive to distinguish between these two scenarios. Here we use deterministic and stochastic models to investigate the origin of multidrug resistance. We quantify the probabilities that resistant mutants preexist, and that resistant mutants are generated during therapy. The models suggest that under a wide range of conditions, treatment failure is most likely caused by the preexistence of resistant mutants.